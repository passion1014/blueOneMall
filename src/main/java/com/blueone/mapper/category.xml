<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="category">
	<resultMap id="CategoryInfoMap" type="com.blueone.category.domain.CategoryInfo">
		<id property="idx" column="IDX" javaType="int"/>
		<result property="ctgPCode" column="CTG_P_CODE" javaType="java.lang.String"/>
		<result property="ctgCodeType" column="CTG_CODE_TYPE" javaType="java.lang.String"/>
		<result property="ctgCode" column="CTG_CODE" javaType="java.lang.String"/>
		<result property="ctgName" column="CTG_NAME" javaType="java.lang.String"/>
		<result property="ctgDesc" column="CTG_DESC" javaType="java.lang.String"/>
		<result property="fromDate" column="FROM_DATE" javaType="java.lang.String"/>
		<result property="toDate" column="TO_DATE" javaType="java.lang.String"/>
		<result property="regDate" column="REG_DATE" javaType="java.lang.String"/>
		<result property="lastDate" column="LAST_DATE" javaType="java.lang.String"/>
	</resultMap>
	
	<select id="selectListBomCategoryTb0001" resultType="com.blueone.category.domain.CategoryInfo" resultMap="CategoryInfoMap">
		SELECT
			IDX, CTG_P_CODE, CTG_CODE_TYPE, CTG_CODE, CTG_NAME, CTG_DESC
			, FROM_DATE, TO_DATE, REG_DATE, LAST_DATE, MODIFY_USER_ID
		FROM
			BOM_CATEGORY_TB
		ORDER BY
			CTG_CODE_TYPE ASC, CTG_P_CODE ASC
	</select >
	
	<select id="selectDtlBomCategoryTb0001" parameterType="hashmap" resultType="com.blueone.category.domain.CategoryInfo" resultMap="CategoryInfoMap">
		SELECT  `IDX`,`CTG_P_CODE`,`CTG_CODE_TYPE`,`CTG_CODE`,`CTG_NAME`
				,`CTG_DESC`,`FROM_DATE`,`TO_DATE`,`REG_DATE`,`LAST_DATE`
		FROM BOM_CATEGORY_TB
		WHERE
			CTG_CODE = #{categoryInfo.ctgPCode}
	</select >

	<insert id="insertBomCategoryTb0001" parameterType="com.blueone.category.domain.CategoryInfo">
		INSERT BOM_CATEGORY_TB
			(`CTG_P_CODE`,`CTG_CODE_TYPE`,`CTG_CODE`,`CTG_NAME`
				,`CTG_DESC`,`FROM_DATE`,`TO_DATE`,`REG_DATE`,`LAST_DATE`, `MODIFY_USER_ID`)
			VALUES
			(#{ctgPCode}, #{ctgCodeType}, #{ctgCode}, #{ctgName}, #{ctgDesc}
			  , #{fromDate}, #{toDate}, sysdate(), sysdate(), 'default')
	</insert>
	
	<update id="updateBomAdminTb0001" parameterType="com.blueone.admin.domain.AdminInfo">
		UPDATE BOM_ADMIN_TB
			SET
				`ADMIN_STATUS` = #{adminInfo.status}
				,`ADMIN_PASS` = #{adminInfo.password}, `ADMIN_NAME` = #{adminInfo.name}
				,`ADMIN_PHONE` = #{adminInfo.phone}, `ADMIN_MOBILE` = #{adminInfo.mobile}
				,`ADMIN_EMAIL` = #{adminInfo.email}, `ADMIN_GRADE` = #{adminInfo.grade}
				,`ADMIN_HIT` = #{adminInfo.hit}, `ADMIN_CMT` = #{adminInfo.comment}
				,`LAST_DATE` = sysdate()
		WHERE
			`ADMIN_ID`= #{adminInfo.id}
	</update>

</mapper>
