<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="product">
	<resultMap id="ProductMap" type="com.blueone.product.domain.ProductInfo">
		<id property="idx" column="IDX" javaType="int"/>
		<result property="prdCd" column="PRD_CD" javaType="java.lang.String"/>
		<result property="prdNm" column="PRD_NM" javaType="java.lang.String"/>
		<result property="prdDesc" column="PRD_DESC" javaType="java.lang.String"/>
		<result property="prdDescHtml" column="PRD_DESC_HTML" javaType="java.lang.String"/>
		<result property="prdCtgL" column="PRD_CTG_L" javaType="java.lang.String"/>
		<result property="prdCtgM" column="PRD_CTG_M" javaType="java.lang.String"/>
		<result property="prdCtgS" column="PRD_CTG_S" javaType="java.lang.String"/>
		<result property="fromDate" column="FROM_DATE" javaType="java.lang.String"/>
		<result property="toDate" column="TO_DATE" javaType="int"/>
		<result property="regDate" column="REG_DATE" javaType="java.lang.String"/>
		<result property="lastDate" column="LAST_DATE" javaType="java.lang.String"/>
		<result property="modifyUserId" column="MODIFY_USER_ID" javaType="java.lang.String"/>
	</resultMap>
	
	<resultMap id="ProductDtlMap" type="com.blueone.product.domain.ProductInfo">
		<id property="idx" column="IDX" javaType="int"/>
		<result property="prdCd" column="PRD_CD" javaType="java.lang.String"/>
		<result property="prdNm" column="PRD_NM" javaType="java.lang.String"/>
		<result property="prdDesc" column="PRD_DESC" javaType="java.lang.String"/>
		<result property="prdDescHtml" column="PRD_DESC_HTML" javaType="java.lang.String"/>
		<result property="prdCtgL" column="PRD_CTG_L" javaType="java.lang.String"/>
		<result property="prdCtgM" column="PRD_CTG_M" javaType="java.lang.String"/>
		<result property="prdCtgS" column="PRD_CTG_S" javaType="java.lang.String"/>
		<result property="fromDate" column="FROM_DATE" javaType="java.lang.String"/>
		<result property="toDate" column="TO_DATE" javaType="int"/>
		<result property="regDate" column="REG_DATE" javaType="java.lang.String"/>
		<result property="lastDate" column="LAST_DATE" javaType="java.lang.String"/>
		<result property="modifyUserId" column="MODIFY_USER_ID" javaType="java.lang.String"/>
	</resultMap>

	<select id="selectListBomProductTb0001" parameterType="com.blueone.product.domain.SearchProdInfo" resultType="com.blueone.product.domain.ProductInfo">
		SELECT  
			`IDX`,`PRD_CD`,`PRD_NM`,`PRD_DESC`,`PRD_DESC_HTML`,`PRD_CTG_L`,`PRD_CTG_M`,`PRD_CTG_S`
			,`FROM_DATE`,`TO_DATE`,`REG_DATE`,`LAST_DATE`,`MODIFY_USER_ID`
		FROM BOM_PRODUCT_TB
		WHERE
			1 = 1
			<if test="prodNm != null and prodNm != ''">AND PRD_NM LIKE CONCAT(#{prodNm},'%')</if>
			<if test="prdCtgL != null and prdCtgL != ''">AND PRD_CTG_L LIKE CONCAT(#{prdCtgL},'%')</if>
			<if test="prdCtgM != null and prdCtgM != ''">AND PRD_CTG_M LIKE CONCAT(#{prdCtgM},'%')</if>
			<if test="prdCtgS != null and prdCtgS != ''">AND PRD_CTG_S LIKE CONCAT(#{prdCtgS},'%')</if>
	</select >

	<insert id="insertBomProductTb0001" parameterType="com.blueone.product.domain.ProductInfo">
		INSERT  BOM_PRODUCT_TB
			(`PRD_CD`,`PRD_NM`,`PRD_DESC`,`PRD_DESC_HTML`
				,`PRD_CTG_L`,`PRD_CTG_M`,`PRD_CTG_S`,`FROM_DATE`
				,`TO_DATE`,`REG_DATE`,`LAST_DATE`,`MODIFY_USER_ID`)
			VALUES
			(#{prdCd}, #{prdNm}, #{prdDesc}, #{prdDescHtml}, #{prdCtgL}, #{prdCtgM}
				, #{prdCtgS}, #{fromDate}, #{toDate}, sysdate(), sysdate(), 'default')
	</insert>

</mapper>
