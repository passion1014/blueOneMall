<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="product">
	 <resultMap id="ProductBaseDtlMap" type="productInfo">
		<!-- <id property="idx" column="IDX" javaType="int"/> -->
		<!-- <result property="idx" column="IDX" javaType="int"/>
		<result property="prdCd" column="PRD_CD" javaType="java.lang.String"/>
		<result property="prdDp" column="PRD_DISPLAY_YN" javaType="java.lang.String"/>
		<result property="prdOrd" column="PRD_ORDER" javaType="int"/>
		<result property="prdNm" column="PRD_NM" javaType="java.lang.String"/>
		<result property="prdCtgL" column="PRD_CTG_L" javaType="java.lang.String"/>
		<result property="prdCtgM" column="PRD_CTG_M" javaType="java.lang.String"/>
		<result property="prdCtgS" column="PRD_CTG_S" javaType="java.lang.String"/>
		<result property="prdSpe1" column="PRO_SPECAL_1" javaType="java.lang.String"/>
		<result property="prdSpe2" column="PRO_SPECAL_2" javaType="java.lang.String"/>
		<result property="schWord" column="SEARCH_WORD" javaType="java.lang.String"/>
		<result property="fromDate" column="FROM_DATE" javaType="java.lang.String"/>
		<result property="toDate" column="TO_DATE" javaType="java.lang.String"/>
		<result property="regDate" column="REG_DATE" javaType="java.lang.String"/>
		<result property="lastDate" column="LAST_DATE" javaType="java.lang.String"/>
		<result property="modifyUserId" column="MODIFY_USER_ID" javaType="java.lang.String"/> -->
		
		<result property="prdCd" column="PRD_CD" javaType="java.lang.String"/>
		<result property="prdDp" column="PRD_DISPLAY_YN" javaType="java.lang.String"/>
		<result property="prdOrd" column="PRD_ORDER" javaType="int"/>
		<result property="prdNm" column="PRD_NM" javaType="java.lang.String"/>
		<result property="prdCtgL" column="PRD_CTG_L" javaType="java.lang.String"/>
		<result property="prdCtgM" column="PRD_CTG_M" javaType="java.lang.String"/>
		<result property="prdCtgS" column="PRD_CTG_S" javaType="java.lang.String"/>
		<result property="prdSpe1" column="PRD_SPECAL_1" javaType="java.lang.String"/>
		<result property="prdSpe2" column="PRD_SPECAL_2" javaType="java.lang.String"/>
		<result property="schWord" column="SEARCH_WORD" javaType="java.lang.String"/>
		<result property="fromDate" column="FROM_DATE" javaType="java.lang.String"/>
		<result property="toDate" column="TO_DATE" javaType="java.lang.String"/>
		<result property="regDate" column="REG_DATE" javaType="java.lang.String"/>
		<result property="lastDate" column="LAST_DATE" javaType="java.lang.String"/>
		<result property="prdPrice" column="PRD_PRICE" javaType="int"/>
		<result property="prdSellPrc" column="PRD_SELL_PRICE" javaType="int"/>
		<result property="prdModel" column="PRD_MODEL" javaType="java.lang.String"/>
		<result property="prdModelNo" column="PRD_MODEL_NO" javaType="java.lang.String"/>
		<result property="prdBrand" column="PRD_BRAND" javaType="java.lang.String"/>
		<result property="prdListCmt" column="PRD_LIST_CMT" javaType="java.lang.String"/>
		<result property="prdConts" column="PRD_CONTENTS" javaType="java.lang.String"/>
		<result property="prdTransInf" column="PRD_TRANSFOR_INF" javaType="int"/>
		<result property="admMemo" column="ADMIN_MEMO" javaType="java.lang.String"/>
	</resultMap>
	

	<select id="selectListBomProductTb0001" parameterType="searchProdInfo" resultMap="ProductBaseDtlMap">
		SELECT  
			T1.PRD_CD, 
			T1.PRD_DISPLAY_YN, 
			T1.PRD_ORDER,
			T1.PRD_NM ,
			T1.PRD_CTG_L, 
			T1.PRD_CTG_M ,
			T1.PRD_CTG_S ,
			T1.PRD_SPECAL_1, 
			T1.PRD_SPECAL_2 ,
			T1.SEARCH_WORD ,
			T1.FROM_DATE ,
			T1.TO_DATE ,
			T1.REG_DATE ,
			T1.LAST_DATE ,
			T1.MODIFY_USER_ID, 
			T1.PRD_PRICE, 
			T1.PRD_SELL_PRICE, 
			T1.PRD_MODEL ,
			T1.PRD_MODEL_NO, 
			T1.PRD_BRAND ,
			T1.PRD_LIST_CMT, 
			T1.PRD_CONTENTS, 
			T1.PRD_TRANSFOR_INF, 
			T1.ADMIN_MEMO 
		FROM BOM_PRODUCT_TB AS T1
		
		WHERE
			1 = 1
			<if test="prdNm != null and prdNm != ''">AND T1.PRD_NM LIKE CONCAT(#{prodNm},'%')</if>
			<if test="prdCtgL != null and prdCtgL != ''">AND T1.PRD_CTG_L LIKE CONCAT(#{prdCtgL},'%')</if>
			<if test="prdCtgM != null and prdCtgM != ''">AND T1.PRD_CTG_M LIKE CONCAT(#{prdCtgM},'%')</if>
			<if test="prdCtgS != null and prdCtgS != ''">AND T1.PRD_CTG_S LIKE CONCAT(#{prdCtgS},'%')</if>
	</select >
	
	<select id="selectListBomShopProductTb0001" parameterType="ProductInfo" resultMap="ProductBaseDtlMap">
	
		SELECT 
			`PRD_PRICE`,`PRD_SELL_PRICE`,`PRD_MODEL`,`PRD_MODEL_NO`,`PRD_BRAND`,`PRD_LIST_CMT`,
			`PRD_CONTENTS`,`PRD_TRANSFOR_INF`,
			`ADMIN_MEMO`
		FROM BOM_PRODUCT_TB	
	</select>
	
	<insert id="insertBomProductTb0001" parameterType="productInfo">
		INSERT  BOM_PRODUCT_TB
			(`PRD_CD`,`PRD_DISPLAY_YN`,`PRD_ORDER`,`PRD_NM`,`PRD_CTG_L`,`PRD_CTG_M`,
			`PRD_CTG_S`,`PRD_SPECAL_1`,`PRD_SPECAL_2`,`SEARCH_WORD`,`FROM_DATE`,
			`TO_DATE`,`REG_DATE`,`LAST_DATE`,`PRD_PRICE`,`PRD_SELL_PRICE`,`PRD_MODEL`,
			`PRD_MODEL_NO`,`PRD_BRAND`,`PRD_LIST_CMT`,`PRD_CONTENTS`,`PRD_TRANSFOR_INF`,
			`MODIFY_USER_ID`)
			VALUES
			(#{prdCd},#{prdDp},#{prdOrd}, #{prdNm}, #{prdCtgL}, #{prdCtgM}, 
			#{prdCtgS}, #{prdSpe1}, #{prdSpe1}, #{schWord}, #{fromDate},
			 #{toDate}, sysdate(), sysdate(), #{prdPrice},#{prdSellPrc},#{prdModel},
			 #{prdModelNo},#{prdBrand},#{prdListCmt},#{prdConts},#{prdTransInf},
			 'default')
	</insert>


</mapper>
